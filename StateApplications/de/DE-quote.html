<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get a Quote - Delaware PFML - ShelterPoint</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        .radio-item input[type="radio"]{ position:absolute; opacity:0; width:0; height:0; }
        .radio-item label{ display:inline-flex; align-items:center; justify-content:center; padding:0.6rem 1rem; border:2px solid var(--border-color); border-radius:8px; background:var(--bg-light); color:var(--text-dark); font-weight:600; cursor:pointer; transition:all .2s; user-select:none; width:200px; height:44px; text-align:center; }
        .radio-item input[type="radio"]:checked + label{ background:var(--accent-color); color:#fff; border-color:var(--accent-color); }
        .radio-group.button-style{ display:grid; grid-template-columns: repeat(2, auto); justify-content:center; gap: 2rem; }
        .radio-group.button-style.billing-options{ display:grid; grid-template-columns: repeat(2, auto); justify-content:center; justify-items:center; gap: 10rem; }
    </style>
    
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="../assets/images/ShelterPoint.jpg" alt="ShelterPoint Life Insurance Company" style="height: 50px;">
                <p class="tagline">Delaware PFML Quote</p>
            </div>
        </header>
        <main>
            <div class="form-section">
                <h2 class="section-title">Get Your Delaware PFML Quote</h2>
                <p class="section-description">Enter a few details to begin your PFML application.</p>

                <form id="deQuoteForm">
                    <!-- Effective Date -->
                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Effective Date</h3>
                        <div class="form-group">
                            <label for="effectiveDate">Requested Effective Date <span class="required">*</span></label>
                            <input type="date" id="effectiveDate" name="effectiveDate" required>
                        </div>
                    </div>

                    <!-- Covered Employees -->
                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Covered Employees</h3>
                        <div class="form-row" style="margin-top: 1rem;">
                            <div class="form-group">
                                <label for="coveredMales">Number of Covered Males</label>
                                <input type="number" id="coveredMales" name="coveredMales" min="0" value="0">
                            </div>
                            <div class="form-group">
                                <label for="coveredFemales">Number of Covered Females</label>
                                <input type="number" id="coveredFemales" name="coveredFemales" min="0" value="0">
                            </div>
                        </div>
                        <div class="form-group" style="margin-top: 1rem;">
                            <label for="totalEmployees">Total Employees</label>
                            <input type="number" id="totalEmployees" name="totalEmployees" min="0" readonly>
                            <div id="headcountWarning" style="display: none; background: #FFF3CD; color: #856404; padding: 0.75rem; border-radius: 6px; margin-top: 0.5rem; border-left: 4px solid #FFC107;">
                                <strong>⚠️ Notice:</strong> Manual underwriting is necessary for headcounts over 24.
                            </div>
                        </div>
                    </div>

                    <!-- Billing Options -->
                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Billing Options <span class="required">*</span></h3>
                        <p style="color: var(--text-light); margin-bottom: 1rem;">Make one selection from the options below</p>
                        <div class="radio-group button-style billing-options">
                            <div class="radio-item">
                                <input type="radio" id="annualBilling" name="billingOption" value="annual" required>
                                <label for="annualBilling">Annually</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="quarterlyBilling" name="billingOption" value="quarterly">
                                <label for="quarterlyBilling">Quarterly</label>
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn-secondary" onclick="window.location.href='../index.html'">← Back</button>
                        <button type="button" class="btn-primary" id="continueBtn">Continue to Application →</button>
                    </div>
                </form>
            </div>
        </main>
        <footer>
            <p>© 2025 ShelterPoint Life Insurance Company</p>
        </footer>
    </div>

    <script>
        const maleEl = document.getElementById('coveredMales');
        const femaleEl = document.getElementById('coveredFemales');
        const totalEl = document.getElementById('totalEmployees');

        function calcTotal(){
            const males = parseInt(maleEl.value) || 0;
            const females = parseInt(femaleEl.value) || 0;
            totalEl.value = males + females;
        }

        function checkHeadcount(){
            calcTotal();
            const totalEmployees = parseInt(totalEl.value) || 0;
            const HEADCOUNT_CAP = 25;
            
            // Show/hide headcount warning
            const warningEl = document.getElementById('headcountWarning');
            if (warningEl) {
                if (totalEmployees >= HEADCOUNT_CAP) {
                    warningEl.style.display = 'block';
                } else {
                    warningEl.style.display = 'none';
                }
            }
        }

        maleEl.addEventListener('input', checkHeadcount);
        femaleEl.addEventListener('input', checkHeadcount);

        window.addEventListener('DOMContentLoaded', function(){
            document.getElementById('effectiveDate').value = '2026-01-01';
            checkHeadcount();
            const btn = document.getElementById('continueBtn');
            if (btn) {
                btn.addEventListener('click', continueToApplication);
            }
        });

        function continueToApplication(){
            const form = document.getElementById('deQuoteForm');
            const fd = new FormData(form);
            const data = {};
            fd.forEach((v,k)=> data[k]=v);
            data.coveredMales = maleEl.value;
            data.coveredFemales = femaleEl.value;
            data.totalEmployees = totalEl.value;
            
            sessionStorage.setItem('deQuoteData', JSON.stringify(data));
            window.location.href = './DE-app-step1.html';
        }
    </script>
</body>
</html>

